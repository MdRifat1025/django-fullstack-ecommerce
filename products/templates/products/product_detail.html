{% extends 'products/base.html' %}
{% block content %}

<style>
  /* Detail Page Styling */
  .product-detail img {
    border-radius: 10px;
    max-height: 500px;
    object-fit: cover;
  }

  .product-detail h2 {
    font-weight: 700;
    margin-bottom: 15px;
  }

  .product-detail p {
    font-size: 1rem;
    line-height: 1.6;
  }

  .product-detail .price {
    font-size: 1.2rem;
    margin: 10px 0;
  }

  .product-detail .btn-add {
    background-color: #0d6efd;
    color: #fff;
    border: none;
    padding: 10px 20px;
    border-radius: 6px;
    transition: all 0.2s ease;
  }

  .product-detail .btn-add:hover {
    background-color: #0b5ed7;
    color: #fff;
  }

  .product-detail .quantity-input {
    width: 100px;
  }

  .product-detail .badge {
    font-size: 0.9rem;
    padding: 0.4em 0.6em;
  }
</style>

<div class="container mt-5 product-detail">
  <div class="row g-4">
    <!-- Product Image -->
    <div class="col-md-6">
      <img src="{{ product.image.url }}" class="img-fluid" alt="{{ product.name }}">
    </div>

    <!-- Product Info -->
    <div class="col-md-6 d-flex flex-column">
      <h2>{{ product.name }}</h2>
      <p>{{ product.description }}</p>

      <div class="price">
        <span class="text-muted text-decoration-line-through">৳{{ product.old_price }}</span>
        <span class="fw-bold text-danger">৳{{ product.new_price }}</span>
      </div>

      {% if product.is_new_arrival %}
        <span class="badge bg-success mb-3">New Arrival</span>
      {% endif %}

      <form method="POST" action="{% url 'add_to_cart' product.id %}" class="mt-auto">
        {% csrf_token %}
        <div class="mb-3 d-flex align-items-center gap-2">
          <label class="mb-0">Quantity:</label>
          <input type="number" name="quantity" value="1" min="1" max="{{ product.stock }}" class="form-control quantity-input">
        </div>

        {% if product.stock > 0 %}
          <button type="submit" class="btn btn-add">Add to Cart</button>
        {% else %}
          <span class="text-danger fw-bold">Out of Stock</span>
        {% endif %}
      </form>
    </div>
  </div>
</div>

{% endblock %}
